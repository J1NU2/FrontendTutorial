<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<style>
    .btn {
        width: 50px;
        height: 50px;
        border: 1px solid black;
        margin-top: 5px;

        display: inline-block;
        text-align: center;
    }
    .btn:hover {
        background-color: gainsboro;
    }
</style>
<body>
    <h2>계산기</h2>
    수식 : <span id="k"></span><br>
    <div class="btn">1</div>
    <div class="btn">2</div>
    <div class="btn">3</div><br>
    <div class="btn">4</div>
    <div class="btn">5</div>
    <div class="btn">6</div><br>
    <div class="btn">7</div>
    <div class="btn">8</div>
    <div class="btn">9</div><br>
    <div class="btn">+</div>
    <div class="btn">-</div>
    <div class="btn">*</div>
    <div class="btn">/</div>
    <div class="btn">=</div>
</body>
</html>
<script>
    function cal(a) {
        // alert(a);
        let k = document.getElementById("k");
        if (a == "=") {
            k.innerText = eval(k.innerText);
        } else {
            // alert(k.innerText);
            k.innerText += a;
        }
    }

    // 이벤트 처리를 위한 Listener 처리 (이벤트 리스너)
    //  사용해본 이벤트 : click, change
    //  마우스 동작 : mouseup, mousedown
    //  위 동작 뿐 아니라 키보드 동작도 존재한다.
    // 리스너를 등록하는 방법
    //  1. html태그에서 함수를 지정하는 방법
    //  2. JS에서 리스너에 등록하는 방법

    // 현재 주석이 있는 script영역은 함수 영역이 아니다.
    // 여기서 작성하는 코드는 html문서가 실행될 때 실행된다.
    // 함수로 작성한 코드는 Call이 될 때 실행된다.


    // 리스너 등록 (콜백함수 활용)
    // document.getElementsByClassName("btn")[1].addEventListener("click", test);
    // function test() { alert("콜백함수"); }

    // 리스너 등록 (람다식 활용)
    // 람다식
    //      - 함수를 간결하게 표현한 것
    //      - 코드를 여러 줄 처리하기 위해 함수로 묶어서 정의하는 경우
    //      - 코드의 재사용성보다 간단한 기능 정의에 포커스를 둠
    // 람다식 기본 형태 : () => {}
    // document.getElementsByClassName("btn")[0].addEventListener("click", () => {
    //     alert("람다식"); });
        
    // 이벤트 등록, 이벤트 처리 시 일반적으로 람다식을 많이 사용한다.
    
    // 계산기에서 모든 버튼은 이벤트에 등록되어야 한다.
    // 버튼 기능을 하려면 html에서 onclick을 사용하던, JS에서 리스너 등록을 해야 한다.
    // 아래 예제는 JS에서 람다식을 이용해 리스너를 등록하는 예제이다.
    let allBtn = document.getElementsByClassName("btn");
    for (let i=0; i<allBtn.length; i++) {
        // console.log(allBtn[i]);
        let text = allBtn[i].innerHTML;
        allBtn[i].addEventListener("click", () => {
            cal(text)
        });
    }

</script>